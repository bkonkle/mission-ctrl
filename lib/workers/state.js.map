{"version":3,"sources":["../../src/workers/state.js"],"names":[],"mappings":";;;;;;;;;;;AAGO,IAAM,sBAAO,wBAAP;AACN,IAAM,sBAAO,wBAAP;AACN,IAAM,wBAAQ,yBAAR;AACN,IAAM,4BAAU,2BAAV;AACN,IAAM,wBAAQ,yBAAR;AACN,IAAM,sBAAO,wBAAP;AACN,IAAM,0CAAiB,kCAAjB;AACN,IAAM,gDAAoB,qCAApB;AACN,IAAM,wCAAgB,iCAAhB;AACN,IAAM,kDAAqB,sCAArB;AACN,IAAM,gDAAoB,qCAApB;;AAEN,IAAM,sCAAe,8CACzB,qBAAoB,EAAC,OAAO,IAAP,EAAa,QAAQ,OAAR,YAClC,iBAAgB,EAAC,OAAO,IAAP,EAAa,QAAQ,OAAR,YAFL,CAAf;;AAKb,SAAS,YAAT,CAAsB,MAAtB,EAA8B,KAA9B,EAAqC,MAArC,EAA6C;AAC3C,SAAO,MAAM,MAAN,CAAa,OAAO,OAAP,CAAe,MAAf,EAAuB,uBAAe;AACxD,WAAO,YAAY,KAAZ,CAAkB,EAAC,OAAO,OAAO,OAAP,CAAe,KAAf,IAAwB,IAAxB,EAA8B,cAAtC,EAAlB,CAAP,CADwD;GAAf,CAA3C,CAD2C;CAA7C;;kBAMe,sEACZ,QAAO,aAAa,IAAb,CAAkB,IAAlB,EAAwB,IAAxB,kBACP,QAAO,aAAa,IAAb,CAAkB,IAAlB,EAAwB,IAAxB,kBACP,SAAQ,aAAa,IAAb,CAAkB,IAAlB,EAAwB,KAAxB,kBACR,WAAU,aAAa,IAAb,CAAkB,IAAlB,EAAwB,OAAxB,kBACV,SAAQ,aAAa,IAAb,CAAkB,IAAlB,EAAwB,KAAxB,kBACR,QAAO,aAAa,IAAb,CAAkB,IAAlB,EAAwB,IAAxB,kBANK,EAOZ,YAPY;AASR,IAAM,kCAAa,gCAAa,IAAb,EAAmB;SAAW,EAAC,cAAD;CAAX,CAAhC;AACN,IAAM,kCAAa,gCAAa,IAAb,EAAmB;SAAW,EAAC,cAAD;CAAX,CAAhC;AACN,IAAM,oCAAc,gCAAa,KAAb,EAAoB;SAAW,EAAC,cAAD;CAAX,CAAlC;AACN,IAAM,wCAAgB,gCAAa,OAAb,EAAsB;SAAW,EAAC,cAAD;CAAX,CAAtC;AACN,IAAM,oCAAc,gCAAa,KAAb,EAAoB;SAAW,EAAC,cAAD;CAAX,CAAlC;AACN,IAAM,kCAAa,gCAAa,IAAb,EAAmB;SAAW,EAAC,cAAD;CAAX,CAAhC","file":"state.js","sourcesContent":["import {createAction, handleActions} from 'redux-actions'\nimport {fromJS} from 'immutable'\n\nexport const BUSY = 'ship-yard/workers/BUSY'\nexport const DONE = 'ship-yard/workers/DONE'\nexport const ERROR = 'ship-yard/workers/ERROR'\nexport const OFFLINE = 'ship-yard/workers/OFFLINE'\nexport const READY = 'ship-yard/workers/READY'\nexport const STOP = 'ship-yard/workers/STOP'\nexport const WORKER_BUNDLER = 'ship-yard/workers/WORKER_BUNDLER'\nexport const WORKER_DEV_SERVER = 'ship-yard/workers/WORKER_DEV_SERVER'\nexport const WORKER_LINTER = 'ship-yard/workers/WORKER_LINTER'\nexport const WORKER_TEST_RUNNER = 'ship-yard/workers/WORKER_TEST_RUNNER'\nexport const WORKER_TRANSPILER = 'ship-yard/workers/WORKER_TRANSPILER'\n\nexport const initialState = fromJS({\n  [WORKER_TRANSPILER]: {error: null, status: OFFLINE},\n  [WORKER_LINTER]: {error: null, status: OFFLINE},\n})\n\nfunction updateStatus(status, state, action) {\n  return state.update(action.payload.worker, workerState => {\n    return workerState.merge({error: action.payload.error || null, status})\n  })\n}\n\nexport default handleActions({\n  [BUSY]: updateStatus.bind(null, BUSY),\n  [DONE]: updateStatus.bind(null, DONE),\n  [ERROR]: updateStatus.bind(null, ERROR),\n  [OFFLINE]: updateStatus.bind(null, OFFLINE),\n  [READY]: updateStatus.bind(null, READY),\n  [STOP]: updateStatus.bind(null, STOP),\n}, initialState)\n\nexport const workerBusy = createAction(BUSY, worker => ({worker}))\nexport const workerDone = createAction(DONE, worker => ({worker}))\nexport const workerError = createAction(ERROR, worker => ({worker}))\nexport const workerOffline = createAction(OFFLINE, worker => ({worker}))\nexport const workerReady = createAction(READY, worker => ({worker}))\nexport const workerStop = createAction(STOP, worker => ({worker}))\n"]}