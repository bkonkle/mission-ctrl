{"version":3,"sources":["../../src/state/workers.js"],"names":[],"mappings":";;;;;;;;;;;AAGO,IAAM,sBAAO,wBAAP;AACN,IAAM,wBAAQ,yBAAR;AACN,IAAM,4BAAU,2BAAV;AACN,IAAM,wBAAQ,yBAAR;AACN,IAAM,sBAAO,wBAAP;AACN,IAAM,oCAAc,+BAAd;AACN,IAAM,sCAAe,gCAAf;AACN,IAAM,0CAAiB,kCAAjB;AACN,IAAM,sCAAe,gCAAf;AACN,IAAM,4CAAkB,4BAAlB;AACN,IAAM,0CAAiB,kCAAjB;AACN,IAAM,gDAAoB,qCAApB;AACN,IAAM,wCAAgB,iCAAhB;AACN,IAAM,kDAAqB,sCAArB;AACN,IAAM,gDAAoB,qCAApB;;AAEN,IAAM,sCAAe,8CACzB,qBAAoB;AACnB,SAAO,IAAP;AACA,UAAQ,cAAR;WAHwB,CAAf;;AAOb,SAAS,YAAT,CAAsB,MAAtB,EAA8B,KAA9B,EAAqC,MAArC,EAA6C;AAC3C,SAAO,MAAM,MAAN,CAAa,OAAO,OAAP,CAAe,MAAf,EAAuB,uBAAe;AACxD,WAAO,YAAY,KAAZ,CAAkB,EAAC,OAAO,OAAO,OAAP,CAAe,KAAf,IAAwB,IAAxB,EAA8B,cAAtC,EAAlB,CAAP,CADwD;GAAf,CAA3C,CAD2C;CAA7C;;kBAMe,sEACZ,QAAO,aAAa,IAAb,CAAkB,IAAlB,EAAwB,WAAxB,kBACP,SAAQ,aAAa,IAAb,CAAkB,IAAlB,EAAwB,YAAxB,kBACR,WAAU,aAAa,IAAb,CAAkB,IAAlB,EAAwB,cAAxB,kBACV,SAAQ,aAAa,IAAb,CAAkB,IAAlB,EAAwB,YAAxB,kBACR,QAAO,aAAa,IAAb,CAAkB,IAAlB,EAAwB,eAAxB,kBALK,EAMZ,YANY;AAQR,IAAM,sBAAO,gCAAa,IAAb,EAAmB;SAAW,EAAC,cAAD;CAAX,CAA1B;AACN,IAAM,wBAAQ,gCAAa,KAAb,EAAoB;SAAW,EAAC,cAAD;CAAX,CAA5B;AACN,IAAM,4BAAU,gCAAa,OAAb,EAAsB;SAAW,EAAC,cAAD;CAAX,CAAhC;AACN,IAAM,wBAAQ,gCAAa,KAAb,EAAoB;SAAW,EAAC,cAAD;CAAX,CAA5B;AACN,IAAM,sBAAO,gCAAa,IAAb,EAAmB;SAAW,EAAC,cAAD;CAAX,CAA1B","file":"workers.js","sourcesContent":["import {createAction, handleActions} from 'redux-actions'\nimport {fromJS} from 'immutable'\n\nexport const BUSY = 'ship-yard/workers/BUSY'\nexport const ERROR = 'ship-yard/workers/ERROR'\nexport const OFFLINE = 'ship-yard/workers/OFFLINE'\nexport const READY = 'ship-yard/workers/READY'\nexport const STOP = 'ship-yard/workers/STOP'\nexport const STATUS_BUSY = 'ship-yard/workers/STATUS_BUSY'\nexport const STATUS_ERROR = 'ship-yard/workers/STATUS_ERROR'\nexport const STATUS_OFFLINE = 'ship-yard/workers/STATUS_OFFLINE'\nexport const STATUS_READY = 'ship-yard/workers/STATUS_READY'\nexport const STATUS_STOPPING = 'ship-yard/workers/STOPPING'\nexport const WORKER_BUNDLER = 'ship-yard/workers/WORKER_BUNDLER'\nexport const WORKER_DEV_SERVER = 'ship-yard/workers/WORKER_DEV_SERVER'\nexport const WORKER_LINTER = 'ship-yard/workers/WORKER_LINTER'\nexport const WORKER_TEST_RUNNER = 'ship-yard/workers/WORKER_TEST_RUNNER'\nexport const WORKER_TRANSPILER = 'ship-yard/workers/WORKER_TRANSPILER'\n\nexport const initialState = fromJS({\n  [WORKER_TRANSPILER]: {\n    error: null,\n    status: STATUS_OFFLINE,\n  },\n})\n\nfunction updateStatus(status, state, action) {\n  return state.update(action.payload.worker, workerState => {\n    return workerState.merge({error: action.payload.error || null, status})\n  })\n}\n\nexport default handleActions({\n  [BUSY]: updateStatus.bind(null, STATUS_BUSY),\n  [ERROR]: updateStatus.bind(null, STATUS_ERROR),\n  [OFFLINE]: updateStatus.bind(null, STATUS_OFFLINE),\n  [READY]: updateStatus.bind(null, STATUS_READY),\n  [STOP]: updateStatus.bind(null, STATUS_STOPPING),\n}, initialState)\n\nexport const busy = createAction(BUSY, worker => ({worker}))\nexport const error = createAction(ERROR, worker => ({worker}))\nexport const offline = createAction(OFFLINE, worker => ({worker}))\nexport const ready = createAction(READY, worker => ({worker}))\nexport const stop = createAction(STOP, worker => ({worker}))\n"]}